var ytQuery={_validStandardFeeds:["top_rated","top_favorites","most_viewed","most_shared","most_popular","most_recent","most_discussed","most_responded","recently_featured","on_the_web"],_validParams:["q","max-results","start-index","standard_feed","caption","3d","category","duration","hd","lang","license","location","orderby","time"],_baseUrls:{"default":"http://gdata.youtube.com/feeds/api/videos",standard_feed:"http://gdata.youtube.com/feeds/api/standardfeeds/"},_callbacks:[],_registerCallback:function(a,b){return this._callbacks.push(b)},_queryCallback:function(a){return a=this._formatResponse(a),this._callbacks.pop()(a)},_appendQueryScript:function(a){var b=document.createElement("script");b.type="text/javascript",b.src=a,document.head.appendChild(b)},_formatResponse:function(a){return a.feed.entry},_getUrlFromParams:function(a){var b=["cbid="+(new Date).getTime()];return Object.keys(a).forEach(function(c){b.push(escape(c)+"="+escape(a[c]))}),this._getBaseUrl(a)+"?alt=json-in-script&callback=ytQuery._queryCallback&v=2&"+b.join("&")},_getBaseUrl:function(a){return a.standard_feed?this._baseUrls.standard_feed+a.standard_feed:this._baseUrls.default},_verifyParams:function(a){var b=this,c=[];return Object.keys(a).forEach(function(a){b._validParams.indexOf(a)===-1&&c.push(a)}),a["max-results"]&&a["max-results"]>50&&c.push("max-results cannot exceed 50 - use start-index to page"),a.standard_feed&&(c=this._verifyStandardFeed(a.standard_feed,c)),c.length?c:!1},_verifyStandardFeed:function(a,b){return this._validStandardFeeds.indexOf(a)===-1&&b.push("Invalid standard feed: standard_feed must be one of "+this._validStandardFeeds.toString()),b},query:function(a,b){var c=this._verifyParams(a);if(c)throw c=c.toString(),new Error("Request uses invalid params "+c);var d=this._getUrlFromParams(a);this._registerCallback(d,b),this._appendQueryScript(d)}};